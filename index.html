<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Red Green Word Game</title>
  <meta name="description" content="Red Green Word Game">
  <meta name="author" content="Liam Devaney">
  <link rel="stylesheet" href="css/styles.css?v=25-10-16">
  <link rel="stylesheet" href="css/bootstrap.css?v=25-10-16">
  <link rel="stylesheet" href="css/bootstrap-theme.css?v=25-10-16">
  <script src="scripts/my.js"></script>
<!--[if lt IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
<![endif]-->
</head>
<body>
  <div id="intro-wrap">
  <h1>Red or Green</h1>
  <small>Is it red or green?</small>
    <button type="button" class="btn btn-primary btn-lg" id="start-game" onclick="myGameStarter()">Start</button>
  </div>
  <div id="game-wrap">
    <h2 id="current-word"></h2>
    <button type="button" class="btn btn-danger btn-lg" id="red">Red</button>
    <button type="button" class="btn btn-success btn-lg" id="green">Green</button>
  </div>


<p id="wordlist"></p>

<script>
// setting up the GET request
function readTextFile(file, callback) {
    var rawFile = new XMLHttpRequest();
    rawFile.overrideMimeType("application/json");
    rawFile.open("GET", file, true);
    rawFile.onreadystatechange = function() {
        if (rawFile.readyState === 4 && rawFile.status == "200") {
            callback(rawFile.responseText);
        }
    }
    rawFile.send(null);
}

// use to weakly randimise array
function randomize(a, b) {
    return Math.random() - 0.5;
}

// Calling the data
readTextFile("data/eyfsWords.json", function(text){
    words = JSON.parse(text);
    words.eyfsWords.sort(randomize);
//    console.log(words);
//    console.log(words.eyfsWords.length);

    for (i = 0; i < words.eyfsWords.length; i++) { 
        document.getElementById("current-word").innerHTML = "<p class="+ words.eyfsWords[i].colour + ">" + words.eyfsWords[i].word + " </p>" + i ;
    }


});

function myGameStarter() {
    document.getElementById("intro-wrap").style.display = 'none';
    document.getElementById("game-wrap").style.display = 'block';
    for (i = 0; i < words.eyfsWords.length; i++) { 
        document.getElementById("current-word").innerHTML += "<p class="+ words.eyfsWords[i].colour + ">" + words.eyfsWords[i].word + " </p>" + i ;
    }

}

</script>
</body>
</html> 
